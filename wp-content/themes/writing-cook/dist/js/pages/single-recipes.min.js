"use strict";jQuery(function(l){var o={init:function(){this.install=this.install(this),this.gallery_slider=this.gallery_slider(this),this.open_modal_video=this.open_modal_video(this),this.close_modal_video=this.close_modal_video(this),this.calculator_ingredients=this.calculator_ingredients(this),this.open_close_info=this.open_close_info(this),this.step_open_close=this.step_open_close(this)},install:function(){},gallery_slider:function(){var o,i=l(".gallery .slider-for"),t=l(".gallery .slider-nav");function e(){i.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,infinite:!1,asNavFor:t}),t.slick({slidesToShow:3,slidesToScroll:1,vertical:!0,verticalSwiping:!0,asNavFor:i,prevArrow:l(".slider-nav__button_prev"),nextArrow:l(".slider-nav__button_next"),dots:!1,infinite:!1,focusOnSelect:!0,responsive:[{breakpoint:768,settings:{vertical:!1,verticalSwiping:!1}}]})}e(),l(window).on("resize",function(){clearTimeout(o),o=setTimeout(function(){i.slick("unslick"),t.slick("unslick"),e()},100)})},open_modal_video:function(){0<l(".video-button").length&&l(".video-button").on("click",function(){l(".modal-video").addClass("modal-video_show")})},close_modal_video:function(){0<l(".modal-video__close").length&&l(".modal-video__close").on("click",function(){l(".modal-video").removeClass("modal-video_show")}),l(".modal-video").on("click",function(o){l(o.target).closest(".modal-video__frame").length||l(".modal-video").removeClass("modal-video_show")}),l(document).on("keydown",function(o){"Escape"===o.key&&l(".modal-video").hasClass("modal-video_show")&&l(".modal-video").removeClass("modal-video_show")})},open_close_info:function(){l(".info-board").each(function(){var o=l(this).find(".info-board__text").height();console.log(o),o<56&&l(this).find(".info-board__button").hide()}),l(".info-board__button").click(function(){var o=l(this).siblings(".info-board__text");o.toggleClass("info-board__text_active"),o.css("max-height",o.hasClass("info-board__text_active")?o[0].scrollHeight+"px":"56px"),l(this).toggleClass("info-board__button_active")})},step_open_close:function(){l(".step__count").on("click",function(){l(this).closest(".step").find(".step__content").slideToggle(50),l(this).closest(".step").toggleClass("step_hide")})},calculator_ingredients:function(){var o=l(".portion-controls__button_minus"),i=l(".portion-controls__button_plus"),t=l(".portion-controls__input"),e=l(".sidebar__ingredients-count");function n(o){var i=o%100,o=o%10;return 11<=i&&i<=14||0==o||5<=o&&o<=9?"порций":1==o?"порцию":2<=o&&o<=4?"порции":void 0}function s(){var i=parseInt(t.val()),o=n(i);l(".portion-label").text(o),e.each(function(){var o=parseFloat(l(this).data("ingredient"))*i;o!==Math.floor(o)&&(o=o.toFixed(2)),l(this).text(" "+o)})}t.on("change",function(){var o=n(parseInt(t.val()));l(".portion-label").text(o)}),o.click(function(){var o=parseInt(t.val());1<o&&(t.val(o-1),s())}),i.click(function(){var o=parseInt(t.val());t.val(o+1),s()}),t.val(l(".ingredients__portions").text()),s()}};l(document).ready(function(){o.init()})});